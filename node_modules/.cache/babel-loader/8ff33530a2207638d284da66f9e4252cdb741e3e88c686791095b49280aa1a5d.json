{"ast":null,"code":"import React,{useState,useEffect}from'react';import InvoiceForm from'./components/InvoiceForm';import InvoiceList from'./components/InvoiceList';import InvoiceDetails from'./components/InvoiceDetails';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[invoices,setInvoices]=useState([]);const[selectedInvoice,setSelectedInvoice]=useState(null);const[view,setView]=useState('list');// 'list', 'create', 'details'\n// Load invoices from localStorage on component mount\nuseEffect(()=>{const savedInvoices=localStorage.getItem('invoices');if(savedInvoices){setInvoices(JSON.parse(savedInvoices));}},[]);// Save invoices to localStorage whenever invoices change\nuseEffect(()=>{localStorage.setItem('invoices',JSON.stringify(invoices));},[invoices]);const handleCreateInvoice=invoiceData=>{const newInvoice={...invoiceData,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,// Fixed: More unique ID generation\ncreatedAt:new Date().toISOString(),status:'draft'};setInvoices([...invoices,newInvoice]);setView('list');};const handleEditInvoice=(id,updatedData)=>{setInvoices(invoices.map(invoice=>invoice.id===id?{...invoice,...updatedData}:invoice));setView('list');};const handleDeleteInvoice=id=>{setInvoices(invoices.filter(invoice=>invoice.id!==id));if(selectedInvoice&&selectedInvoice.id===id){setSelectedInvoice(null);setView('list');}};const handleSelectInvoice=invoice=>{setSelectedInvoice(invoice);setView('details');};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"E-Invoice Management System\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setView('create'),children:\"Create New Invoice\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setView('list'),children:\"View All Invoices\"})]}),view==='create'&&/*#__PURE__*/_jsx(InvoiceForm,{onSubmit:handleCreateInvoice,onCancel:()=>setView('list')}),view==='list'&&/*#__PURE__*/_jsx(InvoiceList,{invoices:invoices,onSelect:handleSelectInvoice,onDelete:handleDeleteInvoice}),view==='details'&&selectedInvoice&&/*#__PURE__*/_jsx(InvoiceDetails,{invoice:selectedInvoice,onEdit:updatedData=>handleEditInvoice(selectedInvoice.id,updatedData),onBack:()=>setView('list')})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","InvoiceForm","InvoiceList","InvoiceDetails","jsx","_jsx","jsxs","_jsxs","App","invoices","setInvoices","selectedInvoice","setSelectedInvoice","view","setView","savedInvoices","localStorage","getItem","JSON","parse","setItem","stringify","handleCreateInvoice","invoiceData","newInvoice","id","Date","now","Math","random","toString","substr","createdAt","toISOString","status","handleEditInvoice","updatedData","map","invoice","handleDeleteInvoice","filter","handleSelectInvoice","className","children","style","marginBottom","onClick","onSubmit","onCancel","onSelect","onDelete","onEdit","onBack"],"sources":["/workspace/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport InvoiceForm from './components/InvoiceForm';\nimport InvoiceList from './components/InvoiceList';\nimport InvoiceDetails from './components/InvoiceDetails';\n\nfunction App() {\n  const [invoices, setInvoices] = useState([]);\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\n  const [view, setView] = useState('list'); // 'list', 'create', 'details'\n\n  // Load invoices from localStorage on component mount\n  useEffect(() => {\n    const savedInvoices = localStorage.getItem('invoices');\n    if (savedInvoices) {\n      setInvoices(JSON.parse(savedInvoices));\n    }\n  }, []);\n\n  // Save invoices to localStorage whenever invoices change\n  useEffect(() => {\n    localStorage.setItem('invoices', JSON.stringify(invoices));\n  }, [invoices]);\n\n  const handleCreateInvoice = (invoiceData) => {\n    const newInvoice = {\n      ...invoiceData,\n      id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`, // Fixed: More unique ID generation\n      createdAt: new Date().toISOString(),\n      status: 'draft'\n    };\n    setInvoices([...invoices, newInvoice]);\n    setView('list');\n  };\n\n  const handleEditInvoice = (id, updatedData) => {\n    setInvoices(invoices.map(invoice => \n      invoice.id === id ? { ...invoice, ...updatedData } : invoice\n    ));\n    setView('list');\n  };\n\n  const handleDeleteInvoice = (id) => {\n    setInvoices(invoices.filter(invoice => invoice.id !== id));\n    if (selectedInvoice && selectedInvoice.id === id) {\n      setSelectedInvoice(null);\n      setView('list');\n    }\n  };\n\n  const handleSelectInvoice = (invoice) => {\n    setSelectedInvoice(invoice);\n    setView('details');\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <div className=\"container\">\n          <h1>E-Invoice Management System</h1>\n        </div>\n      </div>\n      \n      <div className=\"container\">\n        <div style={{ marginBottom: '1rem' }}>\n          <button \n            className=\"btn btn-primary\" \n            onClick={() => setView('create')}\n          >\n            Create New Invoice\n          </button>\n          <button \n            className=\"btn btn-secondary\" \n            onClick={() => setView('list')}\n          >\n            View All Invoices\n          </button>\n        </div>\n\n        {view === 'create' && (\n          <InvoiceForm \n            onSubmit={handleCreateInvoice}\n            onCancel={() => setView('list')}\n          />\n        )}\n\n        {view === 'list' && (\n          <InvoiceList \n            invoices={invoices}\n            onSelect={handleSelectInvoice}\n            onDelete={handleDeleteInvoice}\n          />\n        )}\n\n        {view === 'details' && selectedInvoice && (\n          <InvoiceDetails \n            invoice={selectedInvoice}\n            onEdit={(updatedData) => handleEditInvoice(selectedInvoice.id, updatedData)}\n            onBack={() => setView('list')}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACc,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,MAAM,CAAC,CAAE;AAE1C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,aAAa,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACtD,GAAIF,aAAa,CAAE,CACjBL,WAAW,CAACQ,IAAI,CAACC,KAAK,CAACJ,aAAa,CAAC,CAAC,CACxC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACAf,SAAS,CAAC,IAAM,CACdgB,YAAY,CAACI,OAAO,CAAC,UAAU,CAAEF,IAAI,CAACG,SAAS,CAACZ,QAAQ,CAAC,CAAC,CAC5D,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAa,mBAAmB,CAAIC,WAAW,EAAK,CAC3C,KAAM,CAAAC,UAAU,CAAG,CACjB,GAAGD,WAAW,CACdE,EAAE,CAAE,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,EAAE,CAAE;AAChEC,SAAS,CAAE,GAAI,CAAAN,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CACnCC,MAAM,CAAE,OACV,CAAC,CACDxB,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEe,UAAU,CAAC,CAAC,CACtCV,OAAO,CAAC,MAAM,CAAC,CACjB,CAAC,CAED,KAAM,CAAAqB,iBAAiB,CAAGA,CAACV,EAAE,CAAEW,WAAW,GAAK,CAC7C1B,WAAW,CAACD,QAAQ,CAAC4B,GAAG,CAACC,OAAO,EAC9BA,OAAO,CAACb,EAAE,GAAKA,EAAE,CAAG,CAAE,GAAGa,OAAO,CAAE,GAAGF,WAAY,CAAC,CAAGE,OACvD,CAAC,CAAC,CACFxB,OAAO,CAAC,MAAM,CAAC,CACjB,CAAC,CAED,KAAM,CAAAyB,mBAAmB,CAAId,EAAE,EAAK,CAClCf,WAAW,CAACD,QAAQ,CAAC+B,MAAM,CAACF,OAAO,EAAIA,OAAO,CAACb,EAAE,GAAKA,EAAE,CAAC,CAAC,CAC1D,GAAId,eAAe,EAAIA,eAAe,CAACc,EAAE,GAAKA,EAAE,CAAE,CAChDb,kBAAkB,CAAC,IAAI,CAAC,CACxBE,OAAO,CAAC,MAAM,CAAC,CACjB,CACF,CAAC,CAED,KAAM,CAAA2B,mBAAmB,CAAIH,OAAO,EAAK,CACvC1B,kBAAkB,CAAC0B,OAAO,CAAC,CAC3BxB,OAAO,CAAC,SAAS,CAAC,CACpB,CAAC,CAED,mBACEP,KAAA,QAAKmC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBtC,IAAA,QAAKqC,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBtC,IAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBtC,IAAA,OAAAsC,QAAA,CAAI,6BAA2B,CAAI,CAAC,CACjC,CAAC,CACH,CAAC,cAENpC,KAAA,QAAKmC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpC,KAAA,QAAKqC,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eACnCtC,IAAA,WACEqC,SAAS,CAAC,iBAAiB,CAC3BI,OAAO,CAAEA,CAAA,GAAMhC,OAAO,CAAC,QAAQ,CAAE,CAAA6B,QAAA,CAClC,oBAED,CAAQ,CAAC,cACTtC,IAAA,WACEqC,SAAS,CAAC,mBAAmB,CAC7BI,OAAO,CAAEA,CAAA,GAAMhC,OAAO,CAAC,MAAM,CAAE,CAAA6B,QAAA,CAChC,mBAED,CAAQ,CAAC,EACN,CAAC,CAEL9B,IAAI,GAAK,QAAQ,eAChBR,IAAA,CAACJ,WAAW,EACV8C,QAAQ,CAAEzB,mBAAoB,CAC9B0B,QAAQ,CAAEA,CAAA,GAAMlC,OAAO,CAAC,MAAM,CAAE,CACjC,CACF,CAEAD,IAAI,GAAK,MAAM,eACdR,IAAA,CAACH,WAAW,EACVO,QAAQ,CAAEA,QAAS,CACnBwC,QAAQ,CAAER,mBAAoB,CAC9BS,QAAQ,CAAEX,mBAAoB,CAC/B,CACF,CAEA1B,IAAI,GAAK,SAAS,EAAIF,eAAe,eACpCN,IAAA,CAACF,cAAc,EACbmC,OAAO,CAAE3B,eAAgB,CACzBwC,MAAM,CAAGf,WAAW,EAAKD,iBAAiB,CAACxB,eAAe,CAACc,EAAE,CAAEW,WAAW,CAAE,CAC5EgB,MAAM,CAAEA,CAAA,GAAMtC,OAAO,CAAC,MAAM,CAAE,CAC/B,CACF,EACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAN,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}